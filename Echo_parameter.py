# ------------------------------------------------------------------------------
# Module: Echo_parameter.py
# ------------------------------------------------------------------------------
# Description:
#     Contains parameter tables for MEGAN2.1 emission calculations:
#       - REA_SPC: maps each compound code to its leaf developmental stage index for REL_EM_ACT lookup.
#       - REL_EM_ACT: relative emission rates for leaves in four developmental stages (new, growing, mature, old).
#       - canopyDict: canopy structural and optical parameters used in energy balance and radiative transfer.
#       - TEMPD_PRM: empirically determined coefficients for temperature‐dependence in and related calculations.
#       - CONST_CANOPY: emission‐class dependent empirical coefficients (CLeo and Ctm1) used in temperature response.
#       - COMPOUND_EMISSION_FACTORS: standard emission factors (μg·m⁻²·h⁻¹) for each compound across PFT/leaf stages.
#       - LD_FCT: light‐dependence factor parameters per species for emission scaling.
#       - PDT_LOS_CP: phase distribution and loss process coefficients per species for partitioning and removal.
#
# Dependencies:
#     - ee
# ------------------------------------------------------------------------------
import ee

REA_SPC = ee.Dictionary({
  'ISOP': 4,
  'MYRC': 1,
  'SABI': 1,
  'LIMO': 1,
  'A_3CAR': 1,
  'OCIM': 1,
  'BPIN': 1,
  'APIN': 1,
  'OMTP': 1,
  'FARN': 2,
  'BCAR': 2,
  'OSQT': 2,
  'MBO': 4,
  'MEOH': 3,
  'ACTO': 0,
  'CO': 0,
  'NO': 0,
  'BIDER': 0,
  'STRESS': 0,
  'OTHER': 0
})


REL_EM_ACT = ee.Dictionary({
  'N_CAT': 5,
  'Anew': ee.List([1.0, 2.0, 0.4, 3.5, 0.05]),
  'Agro': ee.List([1.0, 1.8, 0.6, 3.0, 0.6]),
  'Amat': ee.List([1.0, 1.0, 1.0, 1.0, 1.0]),
  'Aold': ee.List([1.0, 1.05, 0.95, 1.2, 0.9])
})
 


canopyDict = ee.Dictionary({
  'NMON': 12,
  'NrTyp': 16,
  'NrCha': 16,
  'CanopyChar': [
    [16.0, 16.0, 16.0, 16.0, 16.0, 16.0, 16.0, 16.0, 1.0, 1.0, 1.0, 0.756, 0.756, 0.756, 1.0, 1.0],
    [0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.05, 0.015, 0.015, 0.015, 0.015, 0.015, 0.015, 0.02, 0.02],
    [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.15, 0.15, 0.15, 0.15, 0.15],
    [24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 24.0, 2.0, 2.0, 2.0, 0.75, 0.75, 0.75, 1.0, 1.0],
    [0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2, 0.2],
    [0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8, 0.8],
    [0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057, 0.057],
    [0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389, 0.389],
    [0.85, 0.85, 0.85, 1.1, 0.95, 1.1, 0.95, 0.95, 0.85, 0.85, 0.85, 0.76, 0.76, 0.76, 0.65, 0.65],
    [0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95, 0.95],
    [1.25, 1.25, 1.25, 1.25, 1.25, 1.25, 1.25, 1.25, 1.00, 1.00, 1.00, 1.25, 1.25, 1.25, 1.25, 1.25],
    [0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06, 0.06],
    [-0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06, -0.06],
    [700.00, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0, 700.0],
    [150.00, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0, 150.0],
    [0.7, 0.7, 0.7, 0.7, 0.7, 0.7 , 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7, 0.7,0.7],
  ],
})

TEMPD_PRM = ee.Dictionary({
  'TDF_SPC': ee.List([
    'ISOP', 'MYRC', 'SABI', 'LIMO', 'A_3CAR', 'OCIM', 'BPIN', 'APIN', 'OMTP', 'FARN', 'BCAR', 'OSQT', 'MBO', 'MEOH', 'ACTO', 'CO', 'NO', 'BIDER', 'STRESS', 'OTHER'
  ]),
  'TDF_PRM': ee.List([
    0.13, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.17, 0.17, 0.17, 0.13, 0.08, 0.1, 0.08, 0.1, 0.13, 0.1, 0.1
  ]),
  'TDF_MAP': ee.List([
    1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11, 12, 13, 14, 15, 16, 17, 18, 19, 20
  ])
})

# MEGAN_Canopy
CONST_CANOPY = ee.Dictionary({
  'MGN_SPC': ['ISOP', 'MYRC', 'SABI', 'LIMO', 'A_3CAR', 'OCIM', 'BPIN', 'APIN', 'OMTP', 'FARN', 'BCAR', 'OSQT', 'MBO', 'MEOH', 'ACTO', 'CO', 'NO', 'BIDER', 'STRESS', 'OTHER'],
  'CLeo': [2.0, 1.83, 1.83, 1.83, 1.83, 1.83, 1.83, 1.83, 1.83, 2.37, 2.37, 2.37, 2.0, 1.6, 1.83, 1.6, 1.83, 2.0, 1.83, 1.83],
  'Ctm1': [95.0, 80.0, 80.0, 80.0, 80.0, 80.0, 80.0, 80.0, 80.0, 130.0, 130.0, 130.0, 95.0, 60.0, 80.0, 60.0, 80.0, 95.0, 80.0, 80.0]
})

COMPOUND_EMISSION_FACTORS = ee.Dictionary({
    "N_CAT": 20,
    "unit": 'μg m^{-2} h^{-1}',
    'ISOP': ee.List([600, 3000, 1, 7000, 10000, 7000, 10000, 11000, 2000, 4000, 4000, 1600, 800, 200, 1 ,0]),
    'MYRC': ee.List([70, 70, 60, 80, 30, 80, 30, 30, 30, 50, 30, 0.3, 0.3, 0.3, 0.3 ,0]),
    'SABI': ee.List([70, 70, 40, 80, 50, 80, 50, 50, 50, 70, 50, 0.7, 0.7, 0.7, 0.7 ,0]),
    'LIMO': ee.List([100, 100, 130, 80, 80, 80, 80, 80, 60, 100, 60, 0.7, 0.7, 0.7, 0.7 ,0]),
    'A_3CAR': ee.List([160, 160, 80, 40, 30, 40, 30, 30, 30, 100, 30, 0.3, 0.3, 0.3, 0.3 ,0]),
    'OCIM': ee.List([70, 70, 60, 150, 120, 150, 120, 120, 90, 150, 90, 2, 2, 2, 2 ,0]),
    'BPIN': ee.List([300, 300, 200, 120, 130, 120, 130, 130, 100, 150, 100, 1.5, 1.5, 1.5, 1.5 ,0 ,0]),
    'APIN': ee.List([500, 500, 510, 600, 400, 600, 400, 400, 200, 300, 200, 2, 2, 2, 2 ,0]),
    'OMTP': ee.List([180, 180, 170, 150, 150, 150, 150, 150, 110, 200, 110, 5, 5, 5, 5 ,0]),
    'FARN': ee.List([40, 40, 40, 60, 40, 60, 40, 40, 40, 40, 40, 3, 3, 3, 4 ,0]),
    'BCAR': ee.List([80, 80, 80, 60, 40, 60, 40, 40, 50, 50, 50, 1, 1, 1, 4 ,0]),
    'OSQT': ee.List([120, 120, 120, 120, 100, 120, 100, 100, 100, 100, 100, 2, 2, 2, 2 ,0]),
    'MBO': ee.List([700, 60, 0.01, 0.01, 0.01, 0.01, 0.01, 2, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01 ,0]),
    'MEOH': ee.List([900, 900, 900, 500, 900, 500, 900, 900, 900, 900, 900, 500, 500, 500, 900 ,0]),
    'ACTO': ee.List([240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 240, 80, 80, 80, 80 ,0]),
    'CO': ee.List([600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600, 600 ,0]),
    'NO': ee.List([2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 27, 27, 27, 40, 68 ,0]),
    'BIDER': ee.List([500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 500, 80, 80, 80, 80 ,0]),
    'STRESS': ee.List([300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300, 300 ,0]),
    'OTHER': ee.List([140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140, 140 ,0])
})
# MEGAN_PDT_LOS
LD_FCT = ee.Dictionary({
  'LDF_SPC': ee.List(['ISOP', 'MYRC', 'SABI', 'LIMO', 'A_3CAR', 'OCIM', 'BPIN', 'APIN', 'OMTP', 'FARN', 'BCAR', 'OSQT', 'MBO', 'MEOH', 'ACTO', 'CO', 'NO', 'BIDER', 'STRESS', 'OTHER']),
  'LDF_FCT': ee.List([0.999, 0.6, 0.6, 0.4, 0.4, 0.4, 0.4, 0.6, 0.4, 0.5,0.5, 0.5, 0.999, 0.8, 0.2, 0.999, 0.0, 0.8, 0.8, 0.2]),
  'LDF_MAP': ee.List([1, 2, 3, 4, 5, 6, 7, 8, 9, 10,11, 12, 13, 14, 15, 16, 17, 18, 19, 20])
})
# MEGAN_PDT_LOS
PDT_LOS_CP = ee.Dictionary({
  'RHO_SPC': ee.List(['ISOP', 'MYRC', 'SABI', 'LIMO', 'A_3CAR', 'OCIM', 'BPIN', 'APIN', 'OMTP', 'FARN', 'BCAR', 'OSQT', 'MBO', 'MEOH', 'ACTO', 'CO', 'NO', 'BIDER', 'STRESS', 'OTHER']),
  'RHO_FCT': ee.List([1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0,\
                       1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]),
  'RHO_MAP': ee.List([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20])
})

